<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.test1.mapper.ChartMapper">
	
	<select id="selectChart" parameterType="hashmap" resultType="com.example.test1.model.Chart">
		SELECT * FROM 
		TBL_PAYMENT
	</select>
	
	
	<select id="selectArea" parameterType="hashmap" resultType="com.example.test1.model.Chart">
		SELECT DISTINCT SI 
		FROM TBL_AREA ORDER BY SI
	</select>
	
	<select id="selectAreaGu" parameterType="hashmap" resultType="com.example.test1.model.Chart">
		SELECT SI, GU 
		FROM TBL_AREA 
		WHERE SI = #{dosi} GROUP BY SI, GU
	</select>
	
	<select id="selectAreaDong" parameterType="hashmap" resultType="com.example.test1.model.Chart">
		SELECT SI, GU ,DONG
		FROM TBL_AREA 
		WHERE SI = #{dosi} AND GU = #{gu} GROUP BY SI, GU ,DONG
	</select>
	<select id="selectEmp" parameterType="hashmap" resultType="com.example.test1.model.Chart">
		SELECT * FROM EMP
	</select>
	
	<select id="selectEmpCheck" parameterType="hashmap" resultType="com.example.test1.model.Chart">
		SELECT * FROM EMP WHERE EMP IN 
		<foreach collection="list" item="item" open="(" close=")" separator=","> #{item}</foreach>
	</select>
	
	<select id="itemList" parameterType="hashmap" resultType="com.example.test1.model.Chart">
		SELECT * FROM TBL_CODE C 
		INNER JOIN TBL_ITEM I ON C.CODE = I.CATEGORY1 
		WHERE 1 = 1 
		<!--<if test="list != null"> << 안되는거 해결하기-->
		<if test="list.size()>0">
			AND CODE IN <foreach collection="list" item="item" open="(" close=")" separator=","> #{item}</foreach>
		</if>
	</select>
	
	<select id="codeList" parameterType="hashmap" resultType="com.example.test1.model.Chart">
		SELECT * FROM TBL_CODE
	</select>
	
	<select id="selectWeather" parameterType="hashmap" resultType="com.example.test1.model.Chart">
		SELECT DISTINCT SI 
		FROM AREA ORDER BY SI
	</select>
	
	<select id="selectWeatherGu" parameterType="hashmap" resultType="com.example.test1.model.Chart">
		SELECT SI, GU 
		FROM AREA 
		WHERE SI = #{si} AND GU IS NOT NULL 
		GROUP BY SI, GU 
		ORDER BY GU
	</select>
	
	<select id="selectWeatherDong" parameterType="hashmap" resultType="com.example.test1.model.Chart">
		SELECT SI, GU ,DONG ,NX,NY
		FROM AREA 
		WHERE SI = #{si} AND GU = #{gu} AND DONG IS NOT NULL 
		GROUP BY SI, GU ,DONG ,NX,NY
		ORDER BY DONG
	</select>
	
	<!--<select id="selectWeatherXy" parameterType="hashmap" resultType="com.example.test1.model.Chart">
		SELECT * 
		FROM AREA 
		WHERE SI = #{si} AND GU = #{gu} AND DONG = #{dong} 
	</select>-->
	
	
</mapper>